#!/usr/bin/python
command = "gtcli list workdue"

import os, re

pipe = os.popen(command)

tasks = {}
whitespace = re.compile('^\W*$')
for line in pipe.readlines():
    line = line.strip()
    if line[-1] == ':':
        continue
    else:
        chunks = filter(lambda s: not whitespace.match(s), line.split(" "))
        out = " ".join(chunks[1:])
        if not out.isspace():
            tasks[chunks[0]] = out.strip()
if len(tasks.keys()) > 0:
    for (k,v) in tasks.iteritems():
        print "\t" + v
else:
    print "\tNo immediate pending tasks."


    
